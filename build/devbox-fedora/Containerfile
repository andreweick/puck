FROM fedora:40
RUN dnf -y update &&     dnf -y install openssh-server sudo git vim make gcc gcc-c++ python3 python3-pip                    tar gzip which procps-ng &&     dnf clean all
RUN useradd -m dev && echo 'dev ALL=(ALL) NOPASSWD:ALL' > /etc/sudoers.d/dev && chmod 440 /etc/sudoers.d/dev
RUN mkdir -p /home/dev/.ssh /var/run/sshd && chown -R dev:dev /home/dev/.ssh
EXPOSE 22
CMD ["/usr/sbin/sshd","-D","-e"]
